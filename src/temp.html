
<!DOCTYPE html>
<html>
<head>
    <title>Colony Player</title>
    <style>
        body, html { margin: 0; padding: 0; height: 100vh; width: 100vw; overflow: hidden; background: #000; }
        #flashContent { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="flashContent"></div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const script = document.createElement("script");
            // 使用本地路径加载 ruffle.js
            script.src = "http://localhost:3000/static/js/ruffle.js";
            script.onload = () => {
                try {
                    const ruffle = window.RufflePlayer.newest();
                    const container = document.getElementById("flashContent");

                    const player = ruffle.createPlayer();
                    player.style.width = "100%";
                    player.style.height = "100%";
                    container.appendChild(player);

                    // 使用正确的相对路径加载 SWF 文件
                    console.log("Loading SWF from:", "http://localhost:3000/static/ColonyV63.swf");
                    player.load("http://localhost:3000/static/ColonyV63.swf");
                } catch (error) {
                    console.error("Ruffle initialization failed:", error);
                }
            };
            script.onerror = () => {
                console.error("Failed to load Ruffle script.");
            };
            document.body.appendChild(script);
        });
    </script>
</body>
</html>
    